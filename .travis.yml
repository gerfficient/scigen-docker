env:
  global:
    - secure: vlPOJI4zSmKD6O03YNt7LFfeETijw53F4Vbi4gTtOSGTfkwUfkbNCrrac1SM07SUcdkWJIsA4hhkqIrST3nJXrqnY67ahgcvi3BpLpJysNFCBY0zADAMHLl+t/0n6LzQ+19NmLuclnltFC2nFkr29We6mtvPEBv7bkBl7pMbVYgpKeCyAtHwPEiSulZjuJNKV33FgiQ21j5fAKHsHf+0HFyO0tm2FBPrpBDUuDI+nE6KYTWrHOxy5AvOtu8xI2J/sbYkkvTtCn/xJt5pYSKhLOXbbYVg2ZcVg2PwSb9agyi8tmpQ+hnR8+nJecqK97hBty+kjTwdrbMeENaULXRy+eQIDsbTSTphYhdjm697Q5GK2flVplxMplqsbWZ8Su9RkQNP2HneVNqQiHUeHjTwhzlWnohU1ePaZtABdvnr6rmi0IFvWv6Ej7Y6d8otmYxgM1NHwpDyl26LCol1tS8AEfZK5wm0pd6zsGhsdyW2Ee0n4KBenYOjzYX4sHUBSbAmsDhEuqkltmWE9Db+tcdDTre/zYt4BzwEqkyTj0A/xhi3+KVlxdole7HcHenzgt+o/I9aeakf0ocU5KDNlmGJA7PE1UZqclf3MJsg3Kd4BdowhHIziSkfjvK7+NTf6AFc8KHVEI9kUPDeTfMF8uTYKdVXTU1VYn99JMUnbonFcSY=
    - secure: MSLGadftEnXBrcr6HQrQBhvpKnsWrSwnwnrM4NwqMzarh0Imj3K7ywIqWmgkBXpFZlQudKHgs+A5xY+KDLRHWzmBVf0dlTCadsuWtZiC9c6FVVaeojyQuReBFwG/VHphEHaijbHbsFFMj1D0a4O+VFyk6vWlx7XmUdMHC6hQtalfupKYEYEsPlPUifPoKoDDoUZM919pbX95Cn5IXHOIcwApzlW3s80bW7nT+v1A6iJa+vdfPb9AAVgjeqbxqovRJfo2T/NHGUFJNxhRedr2Izrc49kF8tqzRtRfFptLV42/30SsPqqIFft6iP9XROZY8lPGCjuJcoztDgbKeBHHuNG38ePqxdnSSUNXULct3uFXdaXbQDF/p3NYxuZoNSKwFyunSK9wX6h+lwvtVzsxGlNDzO7Q3C2mhF+kR8n+qzKN+DQ97N0JvOUEZCaxJRjy9lh94QFo6E7rhq3e1GGzyo4YVmJQ/xAYKQ0U5vlzmO0eI7GK23b1jV9hak75yTxOyw44/O6Zuy7l8hOhp7j44+Tdi+c0m4CoH3zMJ4iBuo2pRMOHjweFoChS/hI23XsNBVL2gA/oL5GaT8IbLjmBYrOQj4i1qJ98GfahIbCFP8CEY5MgOyLs2mItWLDbuP4UdorkannDZrGrIG2mWMdib48vhQT9trx5R9P/KRTkR+s=
    - secure: Ei8g6B9+Xu5SSR2U3na4dZi8wayCmfKReapVc8gvnEyWXXR3lAN56bnZp44R4OluX5tfJDVI8WKYraHQV8RB+vmOjxxPMwfZTrgkdPknKMSEwQeCEX+Ht0WE4rFdxKRR1AgwTqG10t6YSM3SAVIkVj3vwxat8Br50n7VLMXBczWLDi7mxS6xvzMsJxLzPHdaATjgxV8WfqcqNoz9fGVJuCwTeOh3J6LB5VYeGtHlPh+kXoibxTb8Mzug/r3biQngrGO34WSV/iqYCMx77uY5OhWLt1FZl/yKn9szQH98YYEoMfmYMkwzMzGyHyL2WwYixoDrb24bp8XobHbXK4VOSqsvqZeUrW5P4ejCV9pdcKqfAwkgrmXp5NbSyXKiOpGEITnoLMpoaDWXq7eGHhakgGGZUt/VFOt6iZR07D5CjeeuQE05ZuUGQ0sl89mlI5kpvsqLPZ0pV13dYxLowRh1x3zYNV1ywBiPgHhR16yi6KO/FBmFAcC54yx0JmpGDTF0q5Vk3keBc6QEjPda7WlIc5Nv0LsXlLYhvhRn7stmKc64ueeGcupfAGyUfEN6+jKHFcCpSSiJe7df1P34nL4q4CDBhxyqde7ZaQHf1eqWwvc1kmupTRU27ptsa+UNAsVzdyaTo81bWdgfvSycpDuVQodY/3F+BJqRrcMxbN+AgS0=
    - COMMIT=${TRAVIS_COMMIT::8}
script:
  - docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
  - export REPO=soerface/scigen
  - export TAG=`if [ "$TRAVIS_BRANCH" == "master" ]; then echo "latest"; else echo $TRAVIS_BRANCH ; fi`
  - docker build -f Dockerfile -t $REPO:$COMMIT .
  - docker tag $REPO:$COMMIT $REPO:$TAG
  - docker tag $REPO:$COMMIT $REPO:travis-$TRAVIS_BUILD_NUMBER
  - docker push $REPO
